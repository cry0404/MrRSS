/* ============================================
   Shared Styles for Select Components
   Based on existing components: TagSelector, RuleConditionItem
   ============================================ */

/* Trigger button - based on TagSelector and RuleConditionItem */
.select-trigger {
  @apply w-full p-1.5 sm:p-2 border border-border rounded-md bg-bg-primary text-text-primary;
  @apply flex items-center justify-between cursor-pointer hover:border-accent transition-colors;
  @apply text-xs sm:text-sm;
  height: 38px;
  box-sizing: border-box;
}

.select-trigger:disabled {
  @apply opacity-50 cursor-not-allowed hover:border-border;
}

.select-trigger.select-mode-secondary {
  @apply bg-bg-secondary;
}

/* Dropdown arrow - using text instead of SVG background for flexibility */
.select-arrow {
  @apply text-text-secondary text-[10px] sm:text-xs ml-2 flex-shrink-0;
  transition: transform 0.2s ease;
}

.select-arrow.open {
  transform: rotate(180deg);
}

/* Dropdown menu */
.select-dropdown {
  @apply border border-border rounded-md bg-bg-primary;
  @apply overflow-y-auto shadow-lg scroll-smooth;
  /* Position and dimensions are set via inline styles by useSelect */
}

/* Select option */
.select-option {
  @apply flex items-center gap-2 px-2 sm:px-3 py-1.5 sm:py-2 cursor-pointer;
  @apply text-text-primary hover:bg-bg-tertiary;
  @apply text-xs sm:text-sm;
  min-height: 36px;
  transition: background-color 0.15s ease;
}

.select-option:disabled {
  @apply opacity-50 cursor-not-allowed hover:bg-transparent;
}

.select-option.selected {
  background-color: var(--accent-color);
  color: white;
}

/* Selected items should not show hover or focus effects */
.select-option.selected:hover,
.select-option.selected.focused {
  background-color: var(--accent-color);
}

/* Ensure child elements also display correctly in selected state */
.select-option.selected .text-accent,
.select-option.selected svg {
  color: white !important;
}

/* Selected checkbox should have white checkmark */
.select-option.selected .select-checkbox {
  accent-color: white;
}

.select-option.focused {
  @apply bg-bg-tertiary;
}

/* Selected items should not apply focus styles */
.select-option.selected.focused {
  background-color: var(--accent-color) !important;
}

/* Option group label */
.select-group-label {
  @apply px-2 sm:px-3 py-1 text-xs font-semibold text-text-secondary;
  @apply bg-bg-secondary sticky top-0 z-10;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

/* Checkbox for multi-select */
.select-checkbox {
  @apply w-4 h-4 accent-accent cursor-pointer flex-shrink-0;
}

/* Chips display for multi-select selected items */
.select-chips {
  @apply flex flex-wrap gap-2 mb-2;
}

.select-chip {
  @apply inline-flex items-center gap-1 px-2 py-1 text-xs rounded;
}

/* Custom input section */
.select-custom-input {
  @apply p-2 border-t border-border;
}

/* Search input section */
.select-search {
  @apply border-b border-border;
  position: sticky;
  top: 0;
  z-index: 20;
  background-color: var(--bg-primary);
}

.select-search input {
  @apply w-full px-2.5 py-2 bg-transparent text-text-primary;
  @apply focus:outline-none;
  @apply text-sm;
  min-height: 38px;
}

/* Placeholder text */
.select-placeholder {
  @apply text-text-secondary;
}

/* Dropdown animation */
.select-dropdown {
  animation: selectFadeIn 0.2s cubic-bezier(0.16, 1, 0.3, 1);
}

@keyframes selectFadeIn {
  from {
    opacity: 0;
    transform: translateY(-4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Scrollbar styling */
.select-dropdown::-webkit-scrollbar {
  width: 6px;
}

.select-dropdown::-webkit-scrollbar-track {
  background: transparent;
}

.select-dropdown::-webkit-scrollbar-thumb {
  @apply bg-bg-tertiary rounded;
}

.select-dropdown::-webkit-scrollbar-thumb:hover {
  @apply bg-border;
}

/* Clear button */
.select-clear {
  @apply text-text-secondary hover:text-text-primary transition-colors;
  @apply p-0.5 rounded hover:bg-bg-tertiary;
}

/* Select all checkbox container */
.select-all-container {
  @apply flex items-center gap-2 px-2 sm:px-3 py-1.5 sm:py-2;
  @apply border-b border-border;
  @apply text-xs sm:text-sm font-medium text-text-primary;
}

/* Empty state */
.select-empty {
  @apply px-2 sm:px-3 py-3 text-text-secondary text-xs sm:text-sm;
  @apply text-center;
}
